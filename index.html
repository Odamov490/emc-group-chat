<!DOCTYPE html>
<html lang="uz">
<head>
  <meta charset="UTF-8" />
  <title>EMC Group Chat</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div id="app">
    <!-- Login / password screen -->
    <section id="loginScreen" class="screen screen-active">
      <div class="card">
        <div class="logo-circle">EMC</div>
        <h1 class="title">EMC Group Chat</h1>
        <p class="subtitle">
          Yopiq guruh. Faqat ro‘yxatdagi xodimlar uchun.
        </p>

        <div class="field">
          <label for="nameInput">Login</label>
          <input
            id="nameInput"
            type="text"
            placeholder="Masalan: davron"
            autocomplete="off"
          />
        </div>

        <div class="field">
          <label for="passwordInput">Parol</label>
          <input
            id="passwordInput"
            type="password"
            placeholder="••••••"
            autocomplete="off"
          />
        </div>

        <button id="loginBtn" class="btn-primary">Kirish</button>
        <p id="loginError" class="error-text"></p>
        <p class="hint">
          Har bir xodim uchun alohida login va parol beriladi.
          Login/parolni faqat ishonchli odamlarga bering.
        </p>
      </div>
    </section>

    <!-- Chat screen -->
    <!-- E’tibor bering: bu yerda endi .screen EMAS, .chat-screen -->
    <section id="chatScreen" class="chat-screen">
      <header class="chat-header">
        <div class="group-left">
          <div class="group-avatar">G</div>
          <div class="group-meta">
            <div class="group-title">EMC Private Group</div>
            <div class="group-subtitle" id="userSubtitle"></div>
          </div>
        </div>
        <div class="header-actions">
          <button id="clearChatBtn" class="link-button danger">
            Tozalash
          </button>
          <button id="logoutBtn" class="link-button">
            Chiqish
          </button>
        </div>
      </header>

      <!-- Pinned message panel -->
      <div id="pinnedBar" class="pinned-bar" style="display:none"></div>

      <!-- Messages -->
      <main id="messagesContainer" class="messages-container">
        <!-- Xabarlar JS orqali qo'shiladi -->
      </main>

      <!-- Input area -->
      <footer class="input-bar">
        <!-- Reply / edit preview -->
        <div
          id="replyPreview"
          class="reply-preview"
          style="display:none"
        ></div>

        <textarea
          id="messageInput"
          rows="1"
          placeholder="Xabar yozing..."
        ></textarea>
        <button id="sendBtn" class="send-button">&#10148;</button>
      </footer>
    </section>
  </div>

  <script type="module" src="app.js"></script>
</body>
</html>
